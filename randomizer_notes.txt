Todo:
 - Fix crashing issue on Chaotic preset (likely due to turrets --> operator)
 - Localization support
 - Remaining 5 Prey Souls guns
 - Prey Souls Enemies
 - Make Prey Souls turrets scannable
 - Make 50/50 options into sliders
 - More guns
 - Randomized keycards
 - Less <X>
 - Avoid spawning 1G creatures in 0G
 - Pharma fab plans not working in survival mode
 - Whitelist turrets that use scripting
 - Lift technopath won't spawn as a nightmare
 - Whitelist Arboretum medical operator for saving Dahl sidequest
 
Test run notes:
 - Keycard connectivity - log in log, and remember that duplicate keycards exist
 - Mimic slider - ensure that mimics don't spawn near human npcs
     - Luka, Morgan's Office, Cargo Bay survivors
 - Military operator dispenser - make it dispense friendlies
 - Keycard names
 - Assume the player is not able to complete the cook quest?
 - Explosive tank health causing crashes?
 - Don't unlock kletka door
 - Randomize named phantoms
 - Prerendered cutscene randomizer only does subtitles
 - Include generic character lines in voice randomization
 - Options for voice/body randomization
 - body type swap?

Notes:
 - Voltaic mimic is immortal again
 - Add lore cards for turrets
 - Fix card for Absolute Phantom (just says "Phantom)
 - Remove labcoat skin from randomization?
 - HUD disappearing bug
 - Adjust "all enemies" preset to be compatible with Prey Souls
 - Fix status conditions for new enemies (ex. Turret (Broken) should be Laser Turret (Broken))
 - Option to skip handling cutscenes for new weapons
 - Why is the nightmare appearing in the "no nightmare" mode
 - Fix heads for mind-controlled humans not disappearing (needs proper name)


Enemy types:

Projectiles:
value="ArkProjectiles.Bullets.PistolRound_Golden"/> - Solar attack
 - signal package 10641886185795227267, 3149325216917795170
 (TODO: change to 3149325216917795171)
 - particle effect characters Projectile_Mesh_006661
 - particle trail effect characters Trail_016661
value="ArkProjectiles.Mods.Psychoscope.PSIRegenfb"/> - Bleed attack
 - signal package 10641886185795227267, 10641886185795233513
 (TODO: change to 10641886185795233514)
 - particle effect characters Projectile_Mesh_006662
 - particle trail effect characters Trail_016662
value="ArkProjectiles.Mods.Psychoscope.FearBombfb"/> - Lightning bolt attack?
 - signal package 10641886185795227267, 3149325216966419730
 (TODO: change to 3149325216966419731)
value="ArkProjectiles.Medical.TraumaPharmas.AntiConcussionfb"/> - new attack for thermal phantoms
 - signal package 12348086275151031638, 12348086275151031638
 - particle effect Explode_01, Ignite_0144 (characters)
value="ArkProjectiles.Mods.Suit.LeverageAssistfb"/> - new attack for etheric phantoms
 - signal package 10641886185795229340, 10641886185795229340
 - particle effect Ignite_0177, FireBody_Med77 (characters)

Mimics
 - Pyro Mimic (EliteMimic2)
   - Attachment effect 12635110349638538565
   - Receiver config aliensignalreceiverconfig3
   - abilitycontext id 21111111334111121
 - Volt Mimic (EliteMimic3)
   - health 1250
   - attachment effect 12635110349638536018
   - signal modifier 5310807215636213093
   - signal receiver aliensignalreceiverconfig4
   - abilitycontext id 2111111111111111111111113
 - Reaver Mimic (EliteMimic4)
   - health 1350
   - signal modifier 5310807215636213093
   - abilitycontext id 21111121334111121



 * Pyro Mimic - Typhon cacoplasmus psychothermal
 * Volt Mimic - Typhon cacoplasmus psychovoltaic
 * Reaver Mimic - Typhon cacoplasmus psychokinetic
 * Solar Phantom - Typhon anthrophantasmus sol
 * Cystoid Phantom - Typhon anthrophantasmus cystis
 * Chameleon Phantom - Typhon anthrophantasmus chamaeleonidae
 * Blood Phantom - Typhon anthrophantasmus sanguis
 * Absolute Phantom - Typhon anthrophantasmus potens
 * Solar Weaver - Typhon geneocratis sol
 * Absolute Nightmare - Typhon rex potens
 * Animated Husk
 * ???

 - Solar hunter (phantom)
   - ai tree: phantomaitreesolhunt
   - meta tags: same as base phantom
   - loot table: npc_prowler2sol
   - cdf: phantomelitebloodhuntsol.cdf
   - corpse name: "Solar Hunter"
   - Health: 4800
   - signalreceiver: elitephantomsignalreceiver
   - abilitycontext id: 13680621263385306699
   - Thermogenesis effects: 12635110349638600069
   - attacks:
      - Poltergeist lift
      - Launch Cystoids
      - LightningBall
      - Telepath repel blast
      
   
 - Cystoid phantom (Phantoms.BasePhantomegg)
   - ai tree: phantomaitree6
   - loot table: prowler2
   - corpse name: "Cystoid Phantom"
   - health: 4000
   - cdf: phantomegg.cdf
   - ng+health increase: 950
   - Scanning display name: Cystoid phantom
   - abilitycontext id: 13680621263389631577
   - Arkmoveinfo moveshift = 0
   - attacks:
       - launch cystoids
       - everything else a normal phantom does
 
 - Solar Phantom (EthericDoppelganger) - has a radiation aura, fires irradiated missiles
   - Health: 1700
   - cdf: phantomelite44.cdf
   - Abilitycontext id: 2000105
       - Everything a normal phantom does
       - Solar lightning ball
       - Telepath repel blast
       
objects/characters/aliens/phantom

 - Blood Phantom (EthericDoppelganger2) - Fires burst bleed projectiles
   - Health: 2200
   - cdf: Phantomeliteblood.cdf
   - abilitycontext id: 2000106
       - Everything a normal phantom does
       - Bleed lightning ball

 - Prowler Phantom (EthericDoppelganger3) - immune to physical attacks, fires nullwave blasts
   - Health: 1700
   - cdf: PhantomElite22v.cdf
   - abilitycontext id: 2000107
    - Lightningball
    - Repel blast
   - Signal modifier: 13680621263389630779

 - Hunter Phantom (EthericDoppelganger4)
   - aitree: phantomaitree4.xml
   - Health: 2500
   - cdf: phantomelitebloodhunt.cdf
   - abilitycontext id: 1000001333434
       - Poltergeist lift

 - Hunter Phantom 2 (EthericDoppelganger5)
   - aitree: phantomaitree5.xml
   - everything else is exactly the same as the Hunter Phantom

 - Chameleon Phantom (EthericDoppelganger6)
   - health: 1500
   - cdf: phantomelite22cham.cdf
   - Hitreactionmaterialanimation = 3
   
 - Follower Phantom (ArkBeta_HelenCombs) (unused)

 - Absolute Phantom Tier 1 (ArkBeta_HelenCombs6661)
   - aitree: PhantomAiTree3.xml
   - health: 3000
   - cdf: phantomelitebloodf.cdf
   - abilitycontext id: 200010223341
     - 
 
 - Absolute Phantom Tier 2 (ArkBeta_HelenCombs6662)
   - aitree: phantomaitree3.xml
   - health: 4500
   - cdf: phantomelietebloodf.cdf
   - abilitycontext id: 200010223342
 
Assassination targets
 - Elite Etheric Phantom (assassination target 1)
 - Elite Blood Phantom (assassination target 2)
 - Elite Solar? Phantom (assassination target 3)
 - Elite Thermal Phantom (assassination target 4)
 - King Voltaic 5 (assassination target 5)
 - King Telepath (assassination target)
 - King Technopath (assassination target)
 - King Mimic

Cystoids
 - Cystoid 2


Weaver
 - Kinetic Weaver
   - Health 2600
   - check abilitycontext for weaver
 - Solar Weaver (Weaver2)
   - aitree: weaveraitree2.xml
   - health 4600
   - cdf: weaver2.cdf
   - abilitycontext id: 1002002222

Nightmare
 - Absolute Nightmare
   - health: 8800
   - signalreceiver: nightmaresignalreceiverconfig2
   - check abilitycontext for nightmare

Human
 - Danielle Sho (follower)
 - Zombie

Note: New lore entries can be added by adding new metadata tags

Other
 - Save card
 - Melee chipset (Berserker Mod)
 - Jump height chipset (Kozar Benders)

New:

Weapons
 - Defibrillator (stungun that heals humans)
 - Recalibrator (wrench that heals robots)
 - Mindjack chart (nullwave grenade that heals typhon and mindjacks them)
 - Cystoid gun

 
Chipsets
 - ELE_<WEAPON>_<TYPE> apply TYPE damage for WEAPON weapon
   - pistol, wrench, stungun, shotgun, q-beam
   
   
-Prey souls documentation-

Added new enemy types.
-Solar phantom-
Has an aura of radiation around them
Fires irradiated projectile attacks

-Blood phantom-
Fires projectiles in rapid bursts.. Very dangerous in the open
Causes bleed damage

-Prowler Phantom-
Cannot be harmed by projectiles or collisions
Fires projectile attacks that nullify the players ability to use psionic powers
Has an aura that stops psionic attacks from being used

-Hunter phantom-
Melee specialist phantom that is hyper aggressive and fast, also employs some new hit and run ai tactics.

-Chameleon Phantom-
Phantom capable of becoming invisible 


-Pyro mimic-
Immune to fire
Has an aura of fire damage around itself
Is stronger then a normal elite mimic

-Volt mimic-
Immune to electric
Has an aura of lightning damage around itself, also causes emp effect
Is stronger then a normal elite mimic

-Reaver mimic-
Can fire projectiles at the player

-Husks-
Walking dead humans that suicide explode much like mind controlled humans do
Will naturally spawn into the game, unlike scripted mind controlled humans.


----

Pre-process a list of all valid GUIDs per level

For every item:
 * If it is mimickable:
	 * Create a new mimic npc spawner
		* Place at same coordinates as object
		* Keep track of the GUID and Entity GUID
	 * Keep track of the GUID and Entity GUID
Create a new flowgraph chart
 * For every GUID pair
     * Create a gamestart node
	 * Create an entity:ArkNpcSpawner node (npc spawner IDs)
	 * Create an Entity:EntityID node (item IDs)
	 * Create a startmimicking node
	 * Link the gamestart node to the spawner node
	 * Link the Spawner node to the startmimicking node (start)
	 * Link the Spawner node to the startmimicking node (spawned entity id)
	 * Link the entity id node to the startmimicking node (entity to mimic)
	 
	 
--

<Entity Name="FlowgraphEntity_AtriumMimics" Pos="763.77502,1569.875,15.625" EntityClass="FlowgraphEntity" EntityId="966" EntityGuid="4067D158BF6F3A53" CastShadowViewDistRatio="0" CastShadowMinSpec="1" CastSunShadowMinSpec="8" ShadowCasterType="0" Layer="Simulation_Analysis_Scripting">
   <Properties bDrawThroughWalls="0" bHideInEditor="0" bHideInGame="0" clrMainColor="1,0.5,0" nMainDist="100" MainText="" nMaxNoteHeight="0" nMaxNoteWidth="30" fSize="1.2" clrSummaryColor="1,0.5,0" nSummaryDist="20" SummaryText="Atrium Mimics"/>
   <FlowGraph Description="" Group="Atrium" enabled="1" MultiPlayer="ClientServer">
    <Nodes>

<Entity Name="ArkNpcSpawner_Mimic5" Pos="753.20001,1603.3,24.324999" EntityClass="ArkNpcSpawner" EntityId="2290" EntityGuid="48BA75A1DB4C453B" CastShadowViewDistRatio="30" CastShadowMinSpec="1" CastSunShadowMinSpec="1" ShadowCasterType="4" Layer="Simulation_NPCs" HiddenInNodes="1">
   <Properties sNpcArchetype="ArkNpcs.Mimics.Mimic" pose_PoseAnim="" bRigorMortis="0" bSpawnAlwaysUpdate="0" bSpawnBroken="0" bSpawnCorpse="0" bSpawnDormant="0" bSpawnOnGameStart="0"/>
   <Properties2 roomContainer_wanderRoomsContainer="">
    <ArkDialogOverride fPlayerApproachCDFar="-1" fPlayerApproachCDMedium="-1" fPlayerApproachCDNear="-1" fPlayerApproachDistanceFar="-1" fPlayerApproachDistanceMedium="-1" fPlayerApproachDistanceNear="-1" fPlayerLoiterCD="-1" fPlayerLoiterDistance="-1"/>
   </Properties2>
   <RenderProxy />
  </Entity>

<Entity Name="Crafting.RecyclerJunk.CompostingScraps_B2" Archetype="ArkPickups.Crafting.RecyclerJunk.CompostBananaPeel" Pos="752.09998,1604.3,24.4" Rotate="-2.9802322e-08,0,0,1" EntityClass="ArkRecyclerJunk" EntityId="5298" EntityGuid="46E5306C44171B2B" ViewDistRatio="255" CastShadowViewDistRatio="30" CastShadowMinSpec="1" CastSunShadowMinSpec="8" ShadowCasterType="2" Layer="Simulation_Atrium_B_Geo">
   <Properties2 iCountOverride="0"/>
   <RenderProxy />
  </Entity>

<Node Id="13941" Class="entity:ArkNpcSpawner" pos="-2430,1580,0" EntityGUID="{DB4C453B-75A1-48BA-B8B8-B573435AE16F}" EntityGUID_64="48BA75A1DB4C453B">
      <Inputs entityId="0" Spawn="0"/>
     </Node>
<Node Id="13942" Class="Entity:EntityId" pos="-2510,1700,0" EntityGUID="{44171B2B-306C-46E5-B519-9240470EDB53}" EntityGUID_64="46E5306C44171B2B">
      <Inputs entityId="0"/>
     </Node>
<Node Id="13943" Class="Ark:NPC:Mimic:StartMimicking" pos="-2140,1630,0">
      <Inputs entityId="0" EntityToMimic="0" Reason="1" Replace="0"/>
     </Node>

<Edge nodeIn="13943" nodeOut="13941" portIn="Start" portOut="SpawnedEntityId" enabled="1"/>
<Edge nodeIn="13943" nodeOut="13941" portIn="entityId" portOut="SpawnedEntityId" enabled="1"/>
<Edge nodeIn="13943" nodeOut="13942" portIn="EntityToMimic" portOut="Id" enabled="1"/>
--

<Node Id="49" Class="entity:ArkNpcSpawner" pos="240,1830,0" EntityGUID="{679E1136-C35A-4FC7-B876-16E976801AA9}" EntityGUID_64="4FC7C35A679E1136">
      <Inputs entityId="0" Spawn="0"/>
     </Node>
<Node Id="51" Class="Ark:NPC:Mimic:StartMimicking" pos="480,1830,0">
      <Inputs entityId="0" EntityToMimic="0" Reason="1" Replace="1"/>
     </Node>
<Node Id="52" Class="Entity:EntityId" pos="310,1940,0" EntityGUID="{98E85DC5-A363-4B74-87A1-CCB7CD5D490B}" EntityGUID_64="4B74A36398E85DC5">
      <Inputs entityId="0"/>
     </Node>

<Edge nodeIn="51" nodeOut="49" portIn="entityId" portOut="SpawnedEntityId" enabled="1"/>
<Edge nodeIn="51" nodeOut="49" portIn="Start" portOut="Succeeded" enabled="1"/>

-----

<Entity Name="Containers/Small.Trashcan_Lobby17" Archetype="ArkGameplayArchitecture.Containers/NeoDeco.Trashcan_Lobby" Pos="293.15002,698.85004,487.5" Rotate="0.62251461,0,0,0.78260815" EntityClass="ArkContainer" EntityId="2241" EntityGuid="4BE93F1720941A64" CastShadowViewDistRatio="30" CastShadowMinSpec="1" CastSunShadowMinSpec="3" ShadowCasterType="0" NoDecals="1" Layer="Lobby_Geo">
      <Properties2 loottable_ContainerLootTable="Theme_RecyclerJunk_Office" bUsable="1" bUsedAsDynamicObstacle="1" bVerbose="0" />
      <RenderProxy />
    </Entity>

<Entity Name="ArkNpcSpawner6" Pos="293.2037,699.08423,487.49997" Rotate="4.3711388e-08,0,0,1" EntityClass="ArkNpcSpawner" EntityId="1371" EntityGuid="419D01E1347150B0" CastShadowViewDistRatio="30" CastShadowMinSpec="1" CastSunShadowMinSpec="1" ShadowCasterType="4" Layer="Lobby_PsychCodeQuest" HiddenInNodes="1">
      <Properties sNpcArchetype="ArkNpcs.Mimics.Mimic" pose_PoseAnim="" bRigorMortis="0" bSpawnAlwaysUpdate="0" bSpawnBroken="0" bSpawnCorpse="0" bSpawnDormant="0" bSpawnOnGameStart="0" />
      <Properties2 roomContainer_wanderRoomsContainer="">
        <ArkDialogOverride fPlayerApproachCDFar="-1" fPlayerApproachCDMedium="-1" fPlayerApproachCDNear="-1" fPlayerApproachDistanceFar="-1" fPlayerApproachDistanceMedium="-1" fPlayerApproachDistanceNear="-1" fPlayerLoiterCD="-1" fPlayerLoiterDistance="-1" />
      </Properties2>
      <RenderProxy />
    </Entity>
	
<Entity Name="ProximityTrigger31" Pos="292.14996,697.25,490.04999" EntityClass="ProximityTrigger" EntityId="1204" EntityGuid="40051D818DC81FA9" CastShadowViewDistRatio="0" CastShadowMinSpec="1" CastSunShadowMinSpec="8" ShadowCasterType="0" Layer="Lobby_Scripting">
      <Properties bActivateWithUseButton="0" DimX="5" DimY="5" DimZ="5" bEnabled="1" EnterDelay="0" ExitDelay="0" bInVehicleOnly="0" bOnlyOneEntity="0" PlaySequence="" bRemoveOnTrigger="0" ScriptCommand="" bTriggerAny="0" bTriggerOnAI="0" bTriggerOnce="0" bTriggerOnPlayer="1" TriggerOnSelectedEntity="None" bTriggerOnSpecialAI="0" UsableMessage="">
        <MultiplayerOptions bNetworked="0" bPerPlayer="0" />
      </Properties>
    </Entity>
	
// 1 edge out - Done
<Node Id="1281" Class="Entity:EntityId" pos="4980,-6520,0" EntityGUID="{20941A64-3F17-4BE9-A545-8619EC90E5F9}" EntityGUID_64="4BE93F1720941A64">
            <Inputs entityId="0" />
          </Node>

// 1 edge out, 3 edges in - Done
<Node Id="3241" Class="Ark:NPC:Mimic:StartMimicking" pos="5700,-6520,0">
   <Inputs entityId="0" EntityToMimic="0" Reason="3" Replace="1" />
</Node>

// 4 edges out, 1 edge in - Done
<Node Id="1342" Class="entity:ArkNpcSpawner" pos="5350,-6620,0" EntityGUID="{347150B0-01E1-419D-AC61-32C8E6553EAC}" EntityGUID_64="419D01E1347150B0">
	<Inputs entityId="0" Spawn="0" />
</Node>

// 2 edges in - Done
<Node Id="15001" Class="Ark:NPC:Mimic:LockMimicry" pos="6010,-6630,0">
	<Inputs entityId="0" />
</Node>

// 2 edges in - Done
<Node Id="3242" Class="Ark:NPC:Mimic:StopMimicking" pos="5700,-6370,0">
<Inputs entityId="0" />
</Node>

// 1 edge out - Done
<Node Id="1282" Class="Game:Start" pos="4980,-6620,0">
<Inputs InGame="1" InEditor="1" InEditorPlayFromHere="1" />
</Node>

// 1 edge in, 1 edge out - Done
<Node Id="2310" Class="Logic:Gate" pos="5340,-6410,0">
<Inputs SetClosed="0" AutoCloseCount="1" Reset="0" />
</Node>


// 1 edge out - Done
<Node Id="2309" Class="entity:ProximityTrigger" pos="4980,-6430,0" EntityGUID="{8DC81FA9-1D81-4005-87E2-E4A90C495EE7}" EntityGUID_64="40051D818DC81FA9">
<Inputs entityId="0" Disable="0" Enable="0" Enter="0" Leave="0" />
</Node>


		  
<Edge nodeIn="3241" nodeOut="1281" portIn="EntityToMimic" portOut="Id" enabled="1" />
<Edge nodeIn="3241" nodeOut="1342" portIn="entityId" portOut="SpawnedEntityId" enabled="1" />
<Edge nodeIn="3241" nodeOut="1342" portIn="Start" portOut="Succeeded" enabled="1" />
<Edge nodeIn="3242" nodeOut="1342" portIn="entityId" portOut="SpawnedEntityId" enabled="1" />
<Edge nodeIn="15001" nodeOut="1342" portIn="entityId" portOut="SpawnedEntityId" enabled="1" />
<Edge nodeIn="15001" nodeOut="3241" portIn="Lock" portOut="Succeeded" enabled="1" />
<Edge nodeIn="1342" nodeOut="1282" portIn="Spawn" portOut="output" enabled="1" />
<Edge nodeIn="3242" nodeOut="2310" portIn="Stop" portOut="Out" enabled="1" />
<Edge nodeIn="2310" nodeOut="2309" portIn="In" portOut="Enter" enabled="1" />